(function(win,undefined){var doc=win.document,docElem=doc.documentElement,head=doc.head||doc.getElementsByTagName("head")[0]||docElem,Modernizr=win.Modernizr;emorystandard={};emorystandard.extend=function(obj,props){for(var i in props){obj[i]=props[i]}return emorystandard};emorystandard.extend(emorystandard,{browser:{},dev:{},support:{}});emorystandard.dev.mobileOverride=location.search.indexOf("mobile-assets")>=0;emorystandard.onDefine=function(prop,callback){var callbackStack=[];if(callback){callbackStack.push(callback)}function checkRun(){if(eval(prop)){while(callbackStack[0]&&typeof(callbackStack[0])==="function"){callbackStack.shift().call(win)}}else{setTimeout(checkRun,15)}}checkRun()};emorystandard.bodyready=function(callback){emorystandard.onDefine("document.body",callback)};emorystandard.load={};emorystandard.load.style=function(href,media){if(!href){return}var lk=doc.createElement("link"),links=head.getElementsByTagName("link"),lastlink=links[links.length-1];lk.type="text/css";lk.href=href;lk.rel="stylesheet";if(media){lk.media=media}if("respond" in window){lk.onload=respond.update}if(lastlink.nextSibling){head.insertBefore(lk,lastlink.nextSibling)}else{head.appendChild(lk)}};emorystandard.load.script=function(src){if(!src){return}var script=doc.createElement("script"),fc=head.firstChild;script.src=src;if(fc){head.insertBefore(script,fc)}else{head.appendChild(script)}};emorystandard.hasClass=function(el,classname){return el.className.indexOf(classname)>=0};emorystandard.cookie={set:function(name,value,days,path){if(path===undefined){path="/"}if(days&&days!==""){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString()}else{var expires=""}document.cookie=name+"="+value+expires+"; path="+path},get:function(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)==0){return c.substring(nameEQ.length,c.length)}}return null},forget:function(name){createCookie(name,"",-1)}};emorystandard.clearPageCache=function(){if((/iphone|ipad.*os 5/i).test(navigator.appVersion)){window.onload=function(){localStorage.setItem("href",location.href)};window.onpopstate=function(){var a=localStorage.getItem("href"),b=location.href;if(b!==a&&b.indexOf((a+"#"))===-1){document.body.style.display="none";location.reload()}}}};emorystandard.extend(emorystandard.support,{localStorage:Modernizr.localstorage,applicationcache:Modernizr.applicationcache,touch:Modernizr.touch,displayTable:Modernizr["display-table"]})})(this);
/*! A fix for the iOS orientationchange zoom bug. Script by @scottjehl, rebound by @wilto.MIT / GPLv2 License.*/
(function(D){function r(){A.setAttribute("content",x),w=!0}function q(){A.setAttribute("content",y),w=!1}function p(a){s=a.accelerationIncludingGravity,v=Math.abs(s.x),u=Math.abs(s.y),t=Math.abs(s.z),(!D.orientation||D.orientation===180)&&(v>7||(t>6&&u<8||t<8&&u>6)&&v>5)?w&&q():w||r()}var C=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(C)&&C.indexOf("AppleWebKit")>-1)){return}var B=D.document;if(!B.querySelector){return}var A=B.querySelector("meta[name=viewport]"),z=A&&A.getAttribute("content"),y=z+",maximum-scale=1",x=z+",maximum-scale=10",w=!0,v,u,t,s;if(!A){return}D.addEventListener("orientationchange",r,!1),D.addEventListener("devicemotion",p,!1)})(this);(function(a){a.fn.extend({emoryUtilityMenu:function(b){return this.each(function(){a("#emory-wide li:not('.search')").hover(function(){a(this).addClass("active");a(this).find("li.top > a").addClass("active");a(this).find("div.nav-box").show()},function(){a(this).removeClass("active");a(this).find("li.top > a").removeClass("active");a(this).find("div.nav-box").hide()})})}})})(jQuery);function searchOptions(){var a="";$(".search-scope").hide();$("#form-search input").focus(function(){$(".search-scope").show();$(document).bind("focusin.search-scope click.search-scope",function(b){if($(b.target).closest(".search-scope, #form-search input").length){return}$(document).unbind(".search-scope");$(".search-scope").hide()})});$(".search-scope label").change(function(){$(".search-scope label").removeClass("checked");$(this).addClass("checked");a=$(this).children('input[name="site"]').val();if(a=="directory"){document.searchForm.action="http://directory.service.emory.edu";document.searchForm.method="post"}else{document.searchForm.action="http://search.emory.edu/search";document.searchForm.method="get"}});$("#form-search").submit(function(){document.searchForm.searchString.value=document.searchForm.q.value;document.searchForm.submit();return false})}function toggleButtons(){$(".toggle-nav").click(function(){toggleItems(".toggle-nav","#main-nav");return false});$(".toggle-search").click(function(){toggleItems(".toggle-search","#emory-wide");return false})}function toggleItems(a,b){$(b).toggleClass("visible-phone");$(a).toggleClass("active");return false}function justifyNav(c){if(c==true){var a=$("#main-nav").width();var b=0;$("#main-nav li a").each(function(){b+=$(this).width()});remainder=a-b;padding=remainder/$("#main-nav li a").length;newpadding=padding/2-1;$("#main-nav li").each(function(){$(this).children("a").css("padding-left",newpadding+"px");$(this).children("a").css("padding-right",newpadding+"px")});$("#main-nav li a:last").hover(function(){$("#main-nav").addClass("hover_background")},function(){$("#main-nav").removeClass("hover_background");if($("#main-nav li a:last").hasClass("active")){$("#main-nav").addClass("hover_background")}});if($("#main-nav li a:last").hasClass("active")){$("#main-nav").addClass("hover_background")}}else{$("#main-nav li").each(function(){$(this).children("a").css("padding-left","");$(this).children("a").css("padding-right","")})}}function setEqualHeights(c,b,a,d){var b,a,d;if(b===undefined){b=".equal-height-row"}if(a===undefined){a=".equal-height"}if(d===undefined){d=false}if(c==true){$(b).each(function(){var f=0;var e=0;var g=0;$(this).children(a).each(function(){var h=$(this).height();if(h>e){e=h}if(h>f){f=h}});$(this).children(a).height(f);$(this).children(a).children(a).height(e)})}else{$(b).each(function(){$(this).children(a).height("");$(this).children(a).children(a).height("")})}}function searchOnPage(f,b,i,c,d,h){var a="pagesearch-wrap";emorystandard.clearPageCache();$(".no-results").addClass("hidden");$(b).parent().parent().show();if(h!==undefined){$(h).wrap('<div class="'+a+'">')}if(emorystandard.cookie.get("pagesearch")!=null){var g=emorystandard.cookie.get("pagesearch"),e=0;$(b).each(function(){if($(this).text().search(new RegExp(g,"i"))<0){$(this).fadeOut()}else{$(this).show();e++}});if(e===0){$(".no-results").removeClass("hidden");$(b).parent().parent().hide()}}else{var g=""}if(c===undefined&&d===undefined&&h===undefined){$(f).before('<div class="filter"><form action="" name="page-search" method="post"><div class="input"><label><input autocomplete="off" class="span12" id="filter-on-page" name="filter-on-page" placeholder="'+i+'" value="'+g+'" type="search"/></label></div></form></div>');if($(".no-results").length===0){$(".filter").after('<div class="no-results hidden clearfix"><h3>No results</h3><p>There are no results for your current search.</p></div>')}}else{if(c===undefined&&h===undefined){$(f).before('<div class="filter"><form action="" name="page-search" method="post"><div class="input"><label><input autocomplete="off" class="'+d+'" id="filter-on-page" name="filter-on-page" placeholder="'+i+'" value="'+g+'" type="search"/></label></div></form></div>');if($(".no-results").length===0){$(".filter").after('<div class="no-results hidden clearfix"><h3>No results</h3><p>There are no results for your current search.</p></div>')}}else{if(c===undefined){$("."+a).before('<div class="filter"><form action="" name="page-search" method="post"><div class="input"><label><input autocomplete="off" class="'+d+'" id="filter-on-page" name="filter-on-page" placeholder="'+i+'" value="'+g+'" type="search"/></label></div></form></div>');if($(".no-results").length===0){$(".filter").after('<div class="no-results hidden clearfix"><h3>No results</h3><p>There are no results for your current search.</p></div>')}}else{$(f).before(c)}}}$("#filter-on-page").keyup(function(){$(".no-results").addClass("hidden");$(b).parent().parent().hide();var j=$(this).val(),k=0;emorystandard.cookie.set("pagesearch",j,"",window.location.pathname);$(b).each(function(){if($(this).text().search(new RegExp(j,"i"))<0){$(this).fadeOut()}else{$(this).show();$(this).parent().parent().show();k++}});if(k===0){$(".no-results").removeClass("hidden");$(b).parent().parent().hide()}});$(f).find("a").click(function(){window.onunload=function(){}})}
/*!
* FitVids 1.0
*
* Copyright 2011, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
(function(b){b.fn.fitVids=function(a){var h={customSelector:null};var f=document.createElement("div"),g=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];f.className="fit-vids-style";f.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>";g.parentNode.insertBefore(f,g);if(a){b.extend(h,a)}return this.each(function(){var d=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.youtube-nocookie.com']","iframe[src*='www.kickstarter.com']","object","embed"];if(h.customSelector){d.push(h.customSelector)}var c=b(this).find(d.join(","));c.each(function(){var e=b(this);if(this.tagName.toLowerCase()==="embed"&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length){return}var p=(this.tagName.toLowerCase()==="object"||(e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))))?parseInt(e.attr("height"),10):e.height(),o=!isNaN(parseInt(e.attr("width"),10))?parseInt(e.attr("width"),10):e.width(),n=p/o;if(!e.attr("id")){var m="fitvid"+Math.floor(Math.random()*999999);e.attr("id",m)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(n*100)+"%");e.removeAttr("height").removeAttr("width")})})}})(jQuery);function placeholderFallback(){if(!Modernizr.input.placeholder){$("[placeholder]").focus(function(){var a=$(this);if(a.val()==a.attr("placeholder")){a.val("");a.removeClass("placeholder")}}).blur(function(){var a=$(this);if(a.val()==""||a.val()==a.attr("placeholder")){a.addClass("placeholder");a.val(a.attr("placeholder"))}}).blur();$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);if(a.val()==a.attr("placeholder")){a.val("")}})})}}function checkScreenSize(){var a=true;if(Modernizr.mq("screen and (min-width:768px)")){a=true}else{if(Modernizr.mq("screen and (max-width:767px)")){a=false}}return a}function updateOrientation(){var a=checkScreenSize();setEqualHeights(a)}function bootstrapOptions(){$(".alert-close").prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>');$(".alert-close").alert()}$(document).ready(function(){$('A[rel="external"]').click(function(){window.open($(this).attr("href"));return false});toggleButtons();searchOptions();$("#emory-wide ul").emoryUtilityMenu();var a=checkScreenSize();justifyNav(a);$("#main-content .video").fitVids();placeholderFallback();bootstrapOptions()});$(window).on("load",function(){var a=checkScreenSize();setEqualHeights(a);if(typeof window.orientation!=="undefined"){window.addEventListener("orientationchange",updateOrientation,false)}});$(window).resize(function(){var a=checkScreenSize();justifyNav(a);setEqualHeights(a)});
